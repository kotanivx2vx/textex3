# 演習3: 在庫管理コンソールアプリ

## 1. 概要

在庫管理を行うコンソールアプリケーションを作成する。  
コレクションの操作（スタック／キュー）、データ構造の選定、ソート処理を学ぶ。

* **アプリ形態**: コンソールアプリケーション
* **データベース**: なし（メモリ上で管理）
* **業務内容**  
     システム導入対象の倉庫では複数の商品を取り扱う。  
     商品はロット単位で管理(入庫・出庫準備・出庫)される。  
     入庫した商品は出庫までの間、倉庫に保管され、出庫時は検品等のための出庫準備の後に出庫される。  
     商品には消費期限があるため、出庫準備を行う際に先に入庫したロットから取り出して検品・保管場所へ移動する。  
     検品・保管場所では最新のパレットほど手前に配置され、出荷準備が行われたロットは当日中に出庫されるため、最後に到着したパレットから先に出庫される。  


## 2. カバーする技術要素

* スタックの扱い
* キューの扱い
* 適切なデータ構造の選定
* ソート処理と表示

## 3. 機能

### 3.1 起動時処理

#### 3.1.1 初期起動処理

* **トリガー**: アプリケーション起動
* **処理概要**: メニュー画面を表示する。
* **処理ステップ**:

  1. メニュー画面を表示する。

### 3.2 メニュー画面

#### 3.2.1 初期表示処理

* **トリガー**: 初期表示
* **処理概要**: メニューを表示する。
* **処理ステップ**:

  1. 次のメニューと、メニュー選択を促すメッセージを表示する。  

     ```text
     --- 在庫管理メニュー ---
     1. 入庫登録
     2. 出庫準備登録
     3. 出庫登録
     4. 在庫一覧表示
     5. 終了
     ```
  2. ユーザー入力を受け付ける。  
  3. メニュー選択処理を実行する。  

#### 3.2.2 メニュー選択処理

* **トリガー**: ユーザーから入力を受け取る。  
* **処理概要**: 入力値ごとの処理を行う。  
* **処理ステップ**:

  1. 入力チェックを行い、不正な場合は正しい値の入力を促すメッセージを表示する。  
  2. メニューごとの処理を行う。  
     `1` → 入庫登録画面に遷移する。  
     `2` → 出庫準備登録画面に遷移する。  
     `3` → 出庫登録画面に遷移する。  
     `4` → 在庫一覧表示画面に遷移する。  
     `5` → アプリケーションを終了する。  

### 3.3 入庫登録画面

#### 3.3.1 初期表示処理

* **トリガー**: 初期表示
* **処理概要**: 入力されたロットの情報を倉庫用オブジェクトに格納する。
* **処理ステップ**:

  1. ユーザーに「商品ID」「ロット番号」「数量」を入力させる。  
     * 入力チェックを行い、不正な場合は正しい値の入力を促すメッセージを表示する。  
  2. ロットの情報をメモリ内の倉庫用オブジェクトに格納する。
     * 現在時刻を入庫時刻としてあわせて格納する。
     * 倉庫用オブジェクトの商品ごとのロットの管理にはキューを利用する。
     * 全商品の管理方法は適切なものを検討する。
  3. メニュー画面に遷移する。

### 3.4 出庫準備画面

#### 3.4.1 初期表示処理

* **トリガー**: 初期表示
* **処理概要**: 指定された商品のロットを倉庫用オブジェクトから出庫準備用オブジェクトに移動する。
* **処理ステップ**:

  1. ユーザーに「商品ID」を入力させる。
  2. 対象の商品のうち、最も古いロットをメモリ内の倉庫用オブジェクトから取り出し、出庫準備用オブジェクトに格納する。
     * 取り出したロットは倉庫用オブジェクトから削除される。
     * 出庫準備用オブジェクトの商品ごとのロットの管理にはスタックを利用する。
     * 全商品の管理方法は適切なものを検討する。
  3. 取り出したロットのロット番号と数量と入庫日時を表示する。
  4. メニュー画面に戻る。

### 3.5 出庫実行画面

#### 3.5.1 初期表示処理

* **トリガー**: 初期表示
* **処理概要**: 指定された商品のロットを出庫準備用オブジェクトから削除する。
* **処理ステップ**:

  1. ユーザーに「商品ID」を入力させる。
  2. 対象の商品のうち、最後に出庫準備したロットを出庫準備用オブジェクトから取り出す。
     * 取り出したロットは倉庫用オブジェクトから削除される。
  3. 取り出したロットのロット番号と数量と入庫日時を表示する。
  4. メニュー画面に戻る。

### 3.6 在庫一覧表示画面

#### 3.6.1 初期表示処理

* **トリガー**: 初期表示
* **処理概要**: 各商品の在庫数を表示
* **処理ステップ**:

  1. 倉庫内の商品一覧と、出庫準備中の商品一覧を次の形式で表示する。  
     ```text
     --- 倉庫内 ---
     {商品ID} : {商品の在庫数} : {最も古い入庫日時}  
     {商品ID} : {商品の在庫数} : {最も古い入庫日時}  
     ・・・
     --- 出庫準備中 ---
     {商品ID} : {商品の在庫数} : {最も古い入庫日時}  
     {商品ID} : {商品の在庫数} : {最も古い入庫日時}  
     ・・・
     ```
     * 倉庫内の商品一覧は`商品ID`の昇順で表示する。
     * 出庫準備中の商品一覧は`商品の在庫数`の降順で表示する。
     * 最も古い入庫日時は倉庫内の一覧では倉庫内での最も古いもの、出庫準備中の一覧では出庫準備中での最も古いものを表示する。
     * どちらの一覧も商品が存在しない場合は、存在しないことが分かるよう出力する。
  2. メニュー画面に戻る。

## 4. データ

| No | データ   |  種類  | サイズ |
| -- | ----- | :--: | :-: |
| 1  | 商品ID  |  数値  |  10桁  |
| 2  | ロット番号 |  数値  |  10桁  |
| 3  | 数量    |  数値  |  5桁  |
| 4  | 入庫日時  | 日時 |  –  |

## 5. 実装条件

- ユーザー入力を受け取る際にどのような入力をしてもアプリケーションが異常終了しないよう実装する。  
- アプリケーション全体で想定外の例外が発生した際に、メッセージを表示してからアプリケーションを終了するよう実装する。  

## 6. レビューポイント
- キューの操作が適切か  
- スタックの操作が適切か
- 商品全体の管理に適切なデータ構造を選定できているか  
- ソートの実施方法が適切か  

## 演習実施者入力欄

プッシュする際に以下を記載すること。
[]内に記入する。

### 所要時間
[]h  

### 言語
[]  

### 言語選定理由
[]  

### IDE
[]  

### IDE選定理由
[]  

### データ構造選定理由
[]


